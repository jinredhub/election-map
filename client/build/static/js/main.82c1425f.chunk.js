(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(1),i=a.n(r),s=a(50),c=a.n(s),o=(a(82),a(10)),l=a(11),d=a(13),p=a(12),h=a(52),u=a(3),b=(a(83),a(84),a(85),a(9)),j=function(e){var t={display:"none"},a=e.isHamburgerMenuOpen,r=[{href:"https://jinredhub.github.io/arpeggios/",name:"Arpeggios"},{href:"https://jinredhub.github.io/daw/",name:"DAW"},{href:"https://jinredhub.github.io/us-map-covid-19/",name:"Covid Map"},{href:"https://jinredhub.github.io/us-map-covid-19/",name:"Election Map"}].map((function(t,a){return Object(n.jsx)("a",{href:t.href,className:t.name===e.activeLink?"active":"",children:t.name},a)}));return a&&(t.display="block"),Object(n.jsxs)("div",{className:"Navbar",children:[Object(n.jsx)("div",{className:"desktop",children:Object(n.jsx)("div",{children:r})}),Object(n.jsxs)("div",{className:"mobile",children:[Object(n.jsx)("div",{className:"mobildLinks",style:t,children:r}),Object(n.jsx)("button",{className:"hamburgerIcon","aria-label":"click to open mobile navigation menu",onClick:e.clicked,children:Object(n.jsx)(b.a,{icon:["fas","bars"],size:"sm"})})]})]})},m=a(16),x=(a(91),a.p+"static/media/bidenj.8156bbc2.png"),f=a.p+"static/media/trumpd.7e5680b1.png",v=a(5),g=a(54),O=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).chartRef=i.a.createRef(),e.state={},e.chartMargin={top:20,right:20,bottom:30,left:40},e.width3=200-e.chartMargin.left-e.chartMargin.right,e.height3=100-e.chartMargin.top-e.chartMargin.bottom,e.mySvg=null,e.xScale=null,e.xAxis=null,e.createSvg=function(){var t=e.chartRef.current,a=t.clientWidth;e.width3=a-e.chartMargin.left-e.chartMargin.right,e.mySvg=v.j(t).append("svg").attr("width",e.width3+e.chartMargin.left+e.chartMargin.right).attr("height",e.height3+e.chartMargin.top+e.chartMargin.bottom).append("g").attr("transform","translate("+e.chartMargin.left+","+e.chartMargin.top+")"),e.xScale=v.h().range([0,e.width3]).padding(.1).round(!0),e.xAxis=e.mySvg.append("g").attr("transform","translate(0,"+e.height3+")"),e.yScale=v.i().range([e.height3,0]).clamp(!0),e.yAxis=e.mySvg.append("g").attr("class","myYaxis")},e.updateChart=function(){e.xScale.domain(e.props.data.map((function(e){return e.index}))),e.xAxis.transition().duration(1e3).call(v.a(e.xScale).tickFormat((function(e,t){return 0===t?"\u2713 "+e:e}))),e.xAxis.selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-20)"),e.yScale.domain([0,v.g(e.props.data,(function(e){return e.value}))]).range([e.height3,0]).clamp(!0),e.yAxis.transition().duration(1e3).call(v.b(e.yScale).tickFormat((function(e){return e+"%"})).ticks(2));var t=e.mySvg.selectAll(".bar").data(e.props.data),a=Object(m.a)(e);t.transition().duration(1e3).attr("x",(function(e){return a.xScale(e.index)})).attr("y",(function(e){return a.yScale(e.value)})).attr("width",a.xScale.bandwidth()).attr("height",(function(e){return a.height3-a.yScale(e.value)})).attr("fill",(function(e){return"republican"===e.partyId?"#DE3535":"democrat"===e.partyId?"#0471E6":"#595959"})),t.enter().append("rect").attr("class","bar").attr("x",(function(e){return a.xScale(e.index)})).attr("y",(function(e){return a.yScale(e.value)})).attr("width",a.xScale.bandwidth()).attr("height",(function(e){return a.height3-a.yScale(e.value)})).attr("fill",(function(e){return"republican"===e.partyId?"#DE3535":"democrat"===e.partyId?"#0471E6":"#595959"})).transition().duration(1e3).style("opacity",1),t.exit().transition().duration(1e3).style("opacity",0).remove()},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.createSvg()}},{key:"componentDidUpdate",value:function(){this.updateChart(this.props.data)}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"BarChart",children:Object(n.jsx)("div",{ref:this.chartRef})})}}]),a}(r.Component),y=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).chartRef=i.a.createRef(),e.state={democratCount:0,republicanCount:0,democratVotes:0,republicanVotes:0,barchartdata:[],isStateDetailPanelVisible:!1,tableContent:[],isMapSpinnerVisible:!0},e.createMap=function(){e.setState({stateDetailLeft:0,isMapSpinnerVisible:!0});var t=e.chartRef.current;v.j(t).select("svg").remove();var a=document.querySelector(".mapContainer"),n=parseFloat(getComputedStyle(a).width.replace("px","")),r=.6*n,i=v.j(t).append("svg").attr("width",n).attr("height",r).append("g"),s=[v.f("/myD3Files/counties-10m.json"),v.f("/myD3Files/president.json"),v.f("/myD3Files/state_name.json")],c=v.d().translate([n/2,r/2]).scale(n),o=v.e().projection(c),l=Object(m.a)(e);Promise.all(s.map((function(e){return e}))).then((function(e){var t=e[1].data.races.map((function(e){var t=e.candidates.filter((function(e){return"bidenj"===e.candidate_key})),a=e.candidates.filter((function(e){return"trumpd"===e.candidate_key}));return{stateName:e.state_name,joeBiden:t,doanldTrump:a,reportingValue:e.reporting_value,winner:e.candidates[0].candidate_key}}));l.setState({democratCount:e[1].data.party_control[1].parties.democrat.count,republicanCount:e[1].data.party_control[1].parties.republican.count,democratVotes:e[1].data.party_control[1].parties.democrat.votes,democratPercent:e[1].data.party_control[1].parties.democrat.percent,republicanVotes:e[1].data.party_control[1].parties.republican.votes,republicanPercent:e[1].data.party_control[1].parties.republican.percent,tableContent:t});var a=g.a(e[0],e[0].objects.states).features;a.forEach((function(t,n){e[1].data.races.forEach((function(r,i){e[2].forEach((function(e,i){t.properties.name===e.name&&(a[n].properties.abbreviation=e.abbreviation),t.properties.name===r.state_name&&(a[n].properties.candidates=r.candidates,a[n].properties.electoralVotes=r.electoral_votes,a[n].properties.reportingValue=r.reporting_value)}))}))})),i.selectAll(".state").data(a).enter().append("path").attr("class","state").attr("d",o).attr("stroke","white").attr("stroke-width",1).attr("fill",(function(e){if(!e.properties.candidates)return"yellow";var t=e.properties.candidates[0].party_id;return"democrat"===t?"#0471E6":"republican"===t?"#DE3535":"green"})).on("mouseover",(function(e){var t=[];e.properties.candidates.forEach((function(e,a){a<6&&t.push({index:"None of these candidates"===e.last_name?"none":e.last_name,value:e.percent,partyId:e.party_id})}));var a=v.c.pageX,n=v.c.pageY,r=document.querySelector(".tooltip").offsetWidth,i=document.querySelector(".tooltip").offsetHeight;l.setState({barchartdata:t,hoverStateName:e.properties.name,isStateDetailPanelVisible:!0,stateDetailLeft:a-r/2+"px",stateDetailTop:n-(i+24)+"px",electoralVotes:e.properties.electoralVotes,reportingValue:e.properties.reportingValue})})).on("mouseout",(function(e){l.setState({isStateDetailPanelVisible:!1})})),i.selectAll(".stateName").data(a).enter().append("text").attr("class","stateName").text((function(e){return e.properties.abbreviation})).attr("x",(function(e){return o.centroid(e)[0]?o.centroid(e)[0]:0})).attr("y",(function(e){return o.centroid(e)[1]?o.centroid(e)[1]:0})).attr("font-size","9px").attr("font-weight","bold").attr("fill",(function(e){return"Hawaii, Vermont, Massachusetts, Rhode Island, New Jersey, Delaware".includes(e.properties.name)?"black":"white"})).attr("dx",(function(e){return"Hawaii"===e.properties.name?"2%":"Vermont"===e.properties.name?"-1%":"Massachusetts"===e.properties.name?"4%":"Rhode Island"===e.properties.name||"New Jersey"===e.properties.name||"Delaware"===e.properties.name?"2%":"Florida"===e.properties.name?"1%":"Louisiana"===e.properties.name?"-0.8%":"Maryland"===e.properties.name?"-0.4%":0})).attr("dy",(function(e){return"Hawaii"===e.properties.name?"-1%":"Vermont"===e.properties.name?"-3%":"Rhode Island"===e.properties.name?"3%":"New Jersey"===e.properties.name||"Delaware"===e.properties.name?"2%":"Maryland"===e.properties.name?"-0.3%":".35em"})).style("pointer-events","none"),l.setState({isMapSpinnerVisible:!1})}))},e.numberWithCommas=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=window.innerWidth;this.setState({windowWidth:t}),this.createMap(),window.addEventListener("resize",(function(){var t=e.state.windowWidth,a=window.innerWidth;a!==t&&(e.setState({windowWidth:a}),e.createMap())}))}},{key:"componentWillUnmount",value:function(){var e=this;window.addEventListener("resize",(function(){e.createMap()}))}},{key:"render",value:function(){var e=this,t=Object(n.jsxs)("div",{className:"headerDiv",children:[Object(n.jsxs)("div",{className:"balanceCount",children:[Object(n.jsxs)("div",{className:"disp-flex flex-dir-col",style:{color:"#0471E6",fontWeight:"bold"},children:[Object(n.jsx)("span",{style:{fontSize:"48px"},children:this.state.democratCount}),Object(n.jsxs)("span",{style:{fontSize:"18px",paddingBottom:"8px"},children:["BIDEN ",Object(n.jsx)(b.a,{icon:"check",color:"#6DB65B"})]})]}),Object(n.jsx)("div",{style:{color:"#777"},children:"270 to win"}),Object(n.jsxs)("div",{className:"disp-flex flex-dir-col",style:{color:"#DE3535",fontWeight:"bold",textAlign:"end"},children:[Object(n.jsx)("span",{style:{fontSize:"48px"},children:this.state.republicanCount}),Object(n.jsx)("span",{style:{fontSize:"18px",paddingBottom:"8px"},children:"TRUMP"})]})]}),Object(n.jsxs)("div",{className:"balanceChartDiv",children:[Object(n.jsx)("div",{className:"middleBar"}),Object(n.jsx)("div",{style:{flex:"1 1 ".concat(this.state.democratCount,"%"),backgroundColor:"#0471E6"}}),Object(n.jsx)("div",{style:{flex:"1 1 ".concat(this.state.republicanCount,"%"),backgroundColor:"#DE3535"}})]}),Object(n.jsxs)("div",{className:"disp-flex justify-content--space-between",style:{color:"#777"},children:[Object(n.jsxs)("span",{className:"votesAndPercentage",children:[this.numberWithCommas(this.state.democratVotes)," votes (",this.state.democratPercent,"%)"]}),Object(n.jsxs)("span",{className:"votesAndPercentage",children:[this.numberWithCommas(this.state.republicanVotes)," votes (",this.state.republicanPercent,"%)"]})]})]}),a={opacity:this.state.isStateDetailPanelVisible?1:0,left:this.state.stateDetailLeft,top:this.state.stateDetailTop},r=Object(n.jsxs)("div",{className:"tooltip",style:a,children:[Object(n.jsxs)("div",{className:"detailHeader",children:[Object(n.jsx)("span",{className:"detailStateName",children:this.state.hoverStateName}),Object(n.jsxs)("span",{className:"detailElectoralVotes",children:[this.state.electoralVotes," Electorial Votes"]}),Object(n.jsxs)("span",{className:"detailReportingValue",children:[this.state.reportingValue," IN"]})]}),Object(n.jsx)("div",{style:{marginTop:"-10px"},children:Object(n.jsx)(O,{data:this.state.barchartdata})})]}),i=this.state.tableContent.map((function(t,a){var r=t.winner;return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{fontWeight:"900",fontSize:"16px"},children:t.stateName}),Object(n.jsx)("td",{style:{fontWeight:"900",fontSize:"16px",backgroundColor:"bidenj"===r?"#0471E6":"transparent",color:"bidenj"===r?"white":"black"},children:Object(n.jsxs)("span",{style:{display:"inline-block",width:"80px"},children:["bidenj"===r?Object(n.jsx)(b.a,{icon:"check",color:"#78e35d"}):""," ",t.joeBiden[0].percent_display,"%"]})}),Object(n.jsx)("td",{style:{fontSize:"12px"},children:e.numberWithCommas(t.joeBiden[0].votes)}),Object(n.jsx)("td",{}),Object(n.jsx)("td",{style:{fontWeight:"900",fontSize:"16px",backgroundColor:"trumpd"===r?"#DE3535":"transparent",color:"trumpd"===r?"white":"black"},children:Object(n.jsxs)("span",{style:{display:"inline-block",width:"80px"},children:["trumpd"===r?Object(n.jsx)(b.a,{icon:"check",color:"#78e35d"}):""," ",t.doanldTrump[0].percent_display,"%"]})}),Object(n.jsx)("td",{style:{fontSize:"12px"},children:e.numberWithCommas(t.doanldTrump[0].votes)}),Object(n.jsx)("td",{}),Object(n.jsxs)("td",{style:{fontSize:"12px"},className:"hide-tablet",children:[t.reportingValue," in"]})]},a)}));return Object(n.jsxs)("div",{className:"ElectionMap",children:[t,Object(n.jsx)("h1",{className:"mapTitle",children:"2020 Presidential Election Results"}),Object(n.jsx)("div",{className:"mapDescription",children:"Hover over the map for details"}),Object(n.jsxs)("div",{className:"mapContainer",children:[Object(n.jsx)("div",{className:"loadingIconDiv",style:{display:this.state.isMapSpinnerVisible?"flex":"none"},children:Object(n.jsx)(b.a,{className:"spinAnimation",icon:["fas","circle-notch"],color:"black"})}),Object(n.jsx)("div",{ref:this.chartRef})]}),r,Object(n.jsx)("div",{style:{overflowX:"auto"},children:Object(n.jsxs)("table",{className:"myTable",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"States"}),Object(n.jsxs)("th",{children:[Object(n.jsxs)("div",{className:"joeImgContainer",children:[Object(n.jsx)("img",{src:x,style:{width:"100%"},alt:"joe biden"}),Object(n.jsx)("div",{className:"partyDemUnderImg",children:"DEM"})]}),Object(n.jsx)("br",{}),"Percent"]}),Object(n.jsx)("th",{children:"Votes"}),Object(n.jsx)("th",{}),Object(n.jsxs)("th",{children:[Object(n.jsxs)("div",{className:"trumpImgContainer",children:[Object(n.jsx)("img",{src:f,style:{width:"100%"},alt:"donald trump"}),Object(n.jsx)("div",{className:"partyGopUnderImg",children:"GOP"})]}),Object(n.jsx)("br",{}),"Percent"]}),Object(n.jsx)("th",{children:"Votes"}),Object(n.jsx)("th",{}),Object(n.jsx)("th",{className:"hide-tablet",children:"% in"})]})}),Object(n.jsx)("tbody",{children:i})]})})]})}}]),a}(r.Component),S=(a(92),function(e){return Object(n.jsxs)("div",{className:"Footer",children:[Object(n.jsx)("div",{style:{padding:"0 0 30px 0"},children:Object(n.jsx)("a",{className:"btn github",href:"https://github.com/jinredhub",children:Object(n.jsx)(b.a,{icon:["fab","github-alt"],color:"black"})})}),Object(n.jsx)("p",{style:{color:"white"},children:"Jin Redmond"})]})}),w=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={isHamburgerMenuOpen:!1},e.hamburgerMenuHandler=function(){e.setState({isHamburgerMenuOpen:!e.state.isHamburgerMenuOpen})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"Home",children:[Object(n.jsx)(j,{clicked:this.hamburgerMenuHandler,isHamburgerMenuOpen:this.state.isHamburgerMenuOpen,activeLink:"Election Map"}),Object(n.jsx)("section",{children:Object(n.jsx)("div",{className:"tabcontent",children:Object(n.jsx)(y,{})})}),Object(n.jsx)(S,{})]})}}]),a}(r.Component),N=a(18),M=a(19),k=a(51);N.b.add(M.a,M.b,k.a,M.d,M.c);var C=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)(h.a,{children:Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(u.a,{path:"/",exact:!0,component:w})})})}}]),a}(r.Component),D=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,96)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),i(e),s(e)}))};c.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(C,{})}),document.getElementById("root")),D()}},[[95,1,2]]]);
//# sourceMappingURL=main.82c1425f.chunk.js.map